<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Radar SDK Documentation: Device configuration guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ifx_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Radar SDK Documentation
   </div>
   <div id="projectbrief">Infineon software Radar SDK for the development of applications with Infineon radar devices.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pg_radarsdk_device_config_guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Device configuration guidelines </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="ssct_radarsdk_device_config_guide_params"></a>
Radar device configuration parameters</h1>
<dl class="section user"><dt>FMCW parameters</dt><dd></dd></dl>
<p>The radar device configuration parameters typically involve the following quantities which relate to a <a class="el" href="pg_radarsdk_applications.html#ssct_app_presence_fmcw">FMCW radar system</a>:</p>
<ul>
<li>Chirp bandwidth</li>
<li>Number of samples per chirp</li>
<li>Number of chirps per frame</li>
<li>Chirp to Chirp time (or Pulse Repetition Time or \(PRT\))</li>
<li>Frame time (Number of chirps per frame * \(PRT\) + Idle time for algorithm processing)</li>
<li>Frame rate (number of frames per second)</li>
</ul>
<dl class="section user"><dt>Metrics</dt><dd></dd></dl>
<p>The values of the quantities listed above are decided by the various design <b>metrics</b> depending on the application where presence sensing needs to be used, for example maximum detectable range \(R_\mathrm{max}\), range resolution \( \Delta R\), maximum detectable speed \(v_\mathrm{max}\), speed resolution \(\Delta V\).</p>
<ul>
<li>Maximum range: the bins of the range transform represent the range between 0 and <em>"maximum range"</em>.</li>
<li>Maximum speed: the bins of the Doppler transform represent the speed values between <em>"-maximum speed"</em> and <em>"+maximum speed"</em>.</li>
<li>Range resolution: minimial range separation needed that two targets of same velocity can be distinguished.</li>
<li>Speed resolution: minimial radial velocity difference needed that two targets of same range can be distinguished.</li>
</ul>
<p>The SDK offers the possibility to convert these <b>range/speed</b> <b>metrics</b> into <b>FMCW</b> <b>parameters</b>, through the <code><a class="el" href="group__gr__devicecontrol.html#gaaaef7672290ce7caaaaa026d4a3c71e9" title="Derives a device configuration from specified feature space metrics.">ifx_device_translate_metrics_to_config()</a></code> function. Some theory of how these parameters are derived is explained below.</p>
<dl class="section user"><dt>Chirp bandwidth</dt><dd>Is obtained from range resolution. If \(\Delta R\) is the desired range resolution and \(c\) is the speed of light, then the bandwidth \(B\) is given by <p class="formulaDsp">
\[ B = \frac{c}{2 \Delta R} \]
</p>
 The value of \(c\) used in the presence sensing algorithm is \(c = 299792458 m/s\). <br  />
</dd></dl>
<dl class="section user"><dt>Number of samples per chirp</dt><dd>Is obtained from maximum range and range resolution, but also affects chirp to chirp time and consequently maximum speed. If \(R_{max}\) is the desired maximum range and \( \Delta R\) is the desired range resolution, then number of samples \(N_s\) is given by <p class="formulaDsp">
\[ N_s = \frac{2R_{max}}{\Delta R} \]
</p>
 The Number of samples per chirp affects two parameters, one is the chirp time and the other if the maximum range. In order to observe higher ranges, the value of number of ADC samples has to be increased which has to be done at the cost of higher chirp time or a higher ADC sampling rate. The maximum Range is also limited by the signal strength of the target that can be observed by the chip.</dd></dl>
<dl class="section user"><dt>Chirp to chirp time or PRT</dt><dd>Is obtained from maximum speed. If \(\lambda\) is the wavelength corresponding to the center frequency of the FMCW chirp (this is a fixed value that depends on the radar device used), and \(v_{max}\) is the desired maximum speed then chirp to chirp time \(PRT\) is given by: <p class="formulaDsp">
\[ PRT = \frac{\lambda}{v_{max}} \]
</p>
</dd></dl>
<dl class="section user"><dt>Number of chirps per frame</dt><dd>Is obtained from maximum speed and speed resolution. If \(v_{max}\) is the desired max velocity and \(\Delta V\) is the desired speed resolution, then number of chirps per frame \(N_c\) is given by <p class="formulaDsp">
\[ N_c = \frac{2v_{max}}{\Delta V} \]
</p>
</dd></dl>
<dl class="section user"><dt>Frame time</dt><dd>Is obtained from desired frame rate but also constrained to a minimum by number of chirps per frame and \(PRT\).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>For convenience, the <a class="el" href="pg_radarsdk_applications.html">example applications</a> accept radar device configuration as either <b>range/speed</b> <b>metrics</b> or <b>FMCW</b> <b>parameters</b>.</dd></dl>
<a class="anchor" id="device_config_guide_params_table"></a>
<table class="doxtable">
<caption>Radar device configuration parameters</caption>
<tr>
<th>Config param </th><th><p class="starttd">Description</p>
<p class="endtd"></p>
</th></tr>
<tr>
<td colspan="2"><p class="starttd"><b>Radar configuration as range/speed metrics</b></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_RANGE_RESOLUTION_M </td><td><p class="starttd">Desired resolution of range, used to internally calculate the bandwidth of the chirp setting to be used by the radar sensor.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_MAX_RANGE_M </td><td><p class="starttd">Desired maximum range, used internally to calculate the number of ADC samples per chirp to be configured in the radar device.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_SPEED_RESOLUTION_M_S </td><td><p class="starttd">Desired resolution of the speed, used internally to calculate the number of chirps per frame.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_MAX_SPEED_M_S </td><td>Desired maximum absolute speed of the Doppler transform, used internally to calculate the pulse repetition time. Target speeds can be detected up to this value. </td></tr>
<tr>
<td colspan="2"><b>Radar configuration as FMCW parameters</b> </td></tr>
<tr>
<td>IFX_LOWER_FREQUENCY_KHZ </td><td><p class="starttd">Lower frequency of the bandwidth the chirps start at.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_UPPER_FREQUENCY_KHZ </td><td><p class="starttd">Higher frequency of the bandwidth the chirps end with.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_NUM_SAMPLES_PER_CHIRP </td><td><p class="starttd">Number of samples per chirp.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_NUM_CHIRPS_PER_FRAME </td><td><p class="starttd">Number of chirps in a measurement frame.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_CHIRP_TO_CHIRP_TIME_100PS </td><td><p class="starttd">Time between consecutive chirps, in 100 picoseconds steps.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_FRAME_END_DELAY_100PS </td><td><p class="starttd">Time interval between consecutive measurement frames, in 100 picoseconds steps.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_SHAPE_END_DELAY_100PS </td><td><p class="starttd">Time interval between consecutive chirp shapes, in 100 picoseconds steps.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td colspan="2"><b>Device common parameters</b> </td></tr>
<tr>
<td>IFX_FRAME_RATE_HZ </td><td><p class="starttd">Frame acquisition rate. The radar sensor acquires this number of frames per second.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_ADC_SAMPLERATE_HZ </td><td><p class="starttd">Sampling rate of the analog-to-digital (ADC) converter. Valid range is [100k - 2M]Hz.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_BGT_TX_POWER </td><td><p class="starttd">TX Power level to be used on the radar transceiver.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_RX_ANTENNA_MASK </td><td><p class="starttd">ID number of the RX antenna on the radar transceiver to be enabled.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_IF_GAIN_DB </td><td><p class="starttd">This is the amplification factor that is applied to the IF signal coming from the RF mixer before it is fed into the ADC.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<td>IFX_TX_MODE </td><td><p class="starttd">Specifies which TX antenna to use, in case multiple TX antennas are supported by the device.</p>
<p class="endtd"></p>
</td></tr>
</table>
<p><br  />
</p>
<h1><a class="anchor" id="sct_radarsdk_device_config_guide_measurement_frame"></a>
Measurement Frame</h1>
<p>Radar time-domain data is obtained as <a class="el" href="structifx___frame___r__t.html">measurement frames</a>, which consist of one <a class="el" href="_matrix_8h.html#a08d5f9e0475f167bb7ab48fbd8e916b0">matrix</a> per each enabled RX antenna.</p>
<p>The measurement frame dimensions are given by:</p><ul>
<li>Number of Rx antennas available in the device</li>
<li>Number of samples per chirp (i.e. matrix rows)</li>
<li>Number of chirps configured in a frame (i.e. matrix columns)</li>
</ul>
<p>The API reference for <a class="el" href="group__gr__devicecontrol.html">Radar device control</a> provides documentation of the functions such as <code><a class="el" href="group__gr__devicecontrol.html#gadf3c886dea66fba1c9af4c9cf1ad023f" title="Retrieves the next frame of time domain data from a radar device.">ifx_device_get_next_frame()</a></code> which are related to measurement frame fetching.</p>
<h1><a class="anchor" id="sct_radarsdk_device_config_guide_code_examples"></a>
Code examples</h1>
<p>Following example applications can be used as code reference on how to configure the radar device and get data as measurement frames:</p><ul>
<li><a class="el" href="pg_radarsdk_applications.html#ssct_radarsdk_applications_raw_data">Raw Data APP</a></li>
<li><a class="el" href="pg_radarsdk_applications.html#ssct_radarsdk_applications_recorder">Recorder APP</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 16 2021 15:55:55 for Radar SDK Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
